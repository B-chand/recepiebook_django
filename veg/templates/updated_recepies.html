{% extends "base.html" %}
{% block start %}
<!-- Bootstrap 5 CSS -->
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
/>

<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-7">
      <div class="card shadow-lg p-4">
        <h3 class="card-title text-center mb-4">Update Recipe</h3>

        <form method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
          {% csrf_token %}

          <!-- Recipe Name -->
          <div class="mb-3">
            <label class="form-label fw-bold">
              <i class="bi bi-journal-text me-2"></i>Recipe Name
            </label>
            <input
              type="text"
              class="form-control"
              name="r_name"
              value="{{ recepie.r_name }}"
              required
            />
            <div class="invalid-feedback">Please enter the recipe name.</div>
          </div>

          <!-- Recipe Description -->
          <div class="mb-3">
            <label class="form-label fw-bold">
              <i class="bi bi-card-text me-2"></i>Recipe Description
            </label>
            <textarea
              class="form-control"
              name="r_description"
              value="{{ recepie.r_description }}"
              rows="3"
              required
            >{{ recepie.r_description }}</textarea>
            <div class="invalid-feedback">Please provide a description.</div>
          </div>

          <!-- Recipe Image -->
          <div class="mb-3">
            <label class="form-label fw-bold">
              <i class="bi bi-image me-2"></i>Recipe Image
            </label>
            <input
              type="file"
              class="form-control"
              name="r_image"
              accept="image/*"
            />
            {% if recepie.r_image %}
              <img src="{{ recepie.r_image.url }}" alt="{{ recepie.r_name }}" class="img-fluid mt-2" style="max-width: 150px;">
            {% endif %}
          </div>

          <!-- Submit Button -->
          <button type="submit" class="btn btn-primary w-100 fw-bold">
            <i class="bi bi-pencil-square me-2"></i>Update Recipe
          </button>

          <!-- Back Button -->
          <a href="/recepies/" class="btn btn-secondary w-100 mt-3">
            <i class="bi bi-arrow-left-circle me-2"></i>Back to Recipes
          </a>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
